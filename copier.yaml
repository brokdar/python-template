_min_copier_version: "9.0"
_subdirectory: template
_templates_suffix: .jinja
_answers_file: .copier-answers.yml

_tasks:
  - "git init"
  - "uv sync"
  - "uv run prek install"

_message_after_copy: |
  Your project "{{ project_name }}" has been created!

  Next steps:
    cd {{ _copier_conf.dst_path }}
    uv run python -m {{ package_name }}.main

# Questions
project_name:
  type: str
  help: What is your project name?
  validator: "{% if not project_name %}Project name is required{% endif %}"

project_slug:
  type: str
  help: Project slug for PyPI (lowercase with hyphens)
  default: "{{ project_name | lower | replace('_', '-') | replace(' ', '-') }}"
  validator: "{% if not (project_slug | regex_search('^[a-z][a-z0-9-]*[a-z0-9]$|^[a-z]$')) %}Must be valid PyPI name (lowercase, hyphens allowed){% endif %}"

package_name:
  type: str
  help: Python package name (snake_case)
  default: "{{ project_slug | replace('-', '_') }}"
  validator: "{% if not (package_name | regex_search('^[a-z][a-z0-9_]*$')) %}Must be valid Python identifier (snake_case){% endif %}"

description:
  type: str
  help: Brief project description
  default: "Add your description here"

author_name:
  type: str
  help: Author's full name

author_email:
  type: str
  help: Author's email address

python_version:
  type: str
  help: Python version
  choices:
    - "3.12"
    - "3.13"
  default: "3.12"

license:
  type: str
  help: License for the project
  choices:
    MIT: MIT
    None: None
  default: MIT

include_devcontainer:
  type: bool
  help: Include VS Code devcontainer configuration?
  default: false

include_dockerfile:
  type: bool
  help: Include Dockerfile for containerized deployment?
  default: false

claude_support:
  type: bool
  help: Include Claude Code support (CLAUDE.md and .claude directory)?
  default: false
